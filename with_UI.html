<!DOCTYPE html>
<meta charset="utf-8"/>

<html>
<body>

<script>

const RPS_ARRAY = ["rock", "paper", "scissors"];

function computerPlay() {
    // randomly return 'rock' 'paper' or 'scissors'
    let randNum = Math.floor(Math.random() * 3);

    return RPS_ARRAY[randNum];
}

function playRound(playerSelection, computerSelection) {

    let resultStr = "", outcome = "";

    // compare playerSelection to computerSelection and see who wins
    console.log(`Player chose: ${playerSelection}`);
    console.log(`Computer chose: ${computerSelection}`);

    switch (playerSelection) {
        case 'rock':
            switch(computerSelection) {
                case 'rock':
                    resultStr = "It's a tie! Rock vs Rock";
                    break;
                case 'paper':
                    resultStr = "You Lose! Paper beats Rock";
                    outcome = "loss";
                    break;
                case 'scissors':
                    resultStr = "You Win! Rock beats Scissors";
                    outcome = "win";
                    break;
            }
            break;

        case 'paper':
            switch(computerSelection) {
                    case 'rock':
                        resultStr = "You Win! Paper beats Rock";
                        outcome = "win";
                        break;
                    case 'paper':
                        resultStr = "It's a tie! Paper vs Paper";
                        break;
                    case 'scissors':
                        resultStr = "You Lose! Scissors beats Paper";
                        outcome = "loss";
                        break;
                }
            break;
        
        case 'scissors':
            switch(computerSelection) {
                case 'rock':
                    resultStr = "You Lose! Rock beats Scissors";
                    outcome = "loss";
                    break;
                case 'paper':
                    resultStr = "You Win! Scissors beats Paper";
                    outcome = "win";
                    break;
                case 'scissors':
                    resultStr = "It's a tie! Scissors vs Scissors";
                    break;
            }
            break;
    }

    // return object with result string and playerWin boolean
    return {resultStr, outcome};
}

function setupUI() {
    const body = document.querySelector('body');
    const btnDiv = document.createElement('div');
    const scoreDiv = document.createElement('div');

    const rockBtn = document.createElement('button');
    const paperBtn = document.createElement('button');
    const scissorsBtn = document.createElement('button');

    // btnDiv.textContent = "This is text";
    btnDiv.style.cssText = "display: flex; justify-content: space-evenly; margin: 30px";
    scoreDiv.textContent = `Player Wins: ${score.playerWins}
    Computer Wins: ${score.compWins}`;

    rockBtn.textContent = "Rock";
    paperBtn.textContent = "Paper";
    scissorsBtn.textContent = "Scissors";

    btnDiv.append(rockBtn, paperBtn, scissorsBtn);
    body.append(btnDiv, scoreDiv);

    const buttons = document.querySelectorAll('button');

    // loop through buttons nodelist and assign button click with correct playerInput
    // for the playRound function
    for (let i = 0; i < 3; i++) {
        buttons[i].addEventListener('click', () => {
            playRound(RPS_ARRAY[i], computerPlay());
        });
    }
}

let score = {playerWins: 0, compWins: 0};

setupUI();
    
    // // playRound with player and computer input
    // console.log(`*** Round ${roundCounter+1} ***`);
    // let results = playRound(playerInput, computerInput);

    // // print output of round
    // console.log(results.resultStr)

    // // compute who scored a point in the round
    // switch(results.outcome) {
    //     case 'loss':
    //         score.compWins++;
    //         break;

    //     case 'win':
    //         score.playerWins++;
    //         break;
    // }

    // // print score
    // console.log(`Score: You (${score.playerWins}), Computer (${score.compWins})`);
    // roundCounter++;

    // // check win condition
    // if (score.playerWins > score.compWins) {
    //     console.log("Congrats! You won the game!");
    // } else if (score.playerWins < score.compWins) {
    //     console.log("Uh oh! You lost the game!");
    // } else if (score.playerWins === score.compWins) {
    //     console.log("Looks like it's a tie!");
    // }



</script>

<style>

button {
    background-color: #2bb1f9;
    border: none;
    border-radius: 15px;
    box-shadow: 0 9px #999;
    color: white;
    padding: 15px 32px;
    text-align: center;
    font-size: 16px;
    cursor: pointer;
}

button:hover {
    background-color: #0d95de
}

button:active {
  background-color: #0d95de;
  box-shadow: 0 5px #666;
  transform: translateY(4px);
}
</style>

</body>
</html>